<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Flight 4.0.4 â€“ Symbol Grid</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
  
    @font-face {
      font-family: "MokotoRegular";
      src: url("mokotoregular.ttf") format("truetype");
    }

    @font-face {
      font-family: "MokotoGlitch";
      src: url("mokotoregularglitchmark.ttf") format("truetype");
    }

    @font-face {
      font-family: "MokotoGlitch2";
      src: url("mokotoregularglitchmark2.ttf") format("truetype");
    }

    @font-face {
      font-family: "MokotoOutline";
      src: url("mokoto-mokoto-regular-glitch-mark-outline-400.ttf") format("truetype");
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

  </style>
</head>
<body>
  <div class="app">

    <!-- READY SCREEN -->
    <section class="screen active" id="screen-ready">
      <div class="ready-top">
        <span class="ready-next" id="ready-next">NEXT &gt;&gt;&gt;</span>
      </div>
      <div class="ready-center">
        <div class="ready-word">ARE</div>
        <div class="ready-word">YOU</div>
        <div class="ready-word">READY?</div>
      </div>
      <div class="ready-bottom">FLIGHT 4.0.4</div>
    </section>

    <!-- GRID SCREEN -->
    <section class="screen" id="screen-grid">
      <div class="grid-header">
        <span id="back-to-ready">&lt;&lt;&lt; BACK</span>
      </div>
      <div class="grid-spacer"></div>
      <div class="grid-wrapper">
        <div class="symbol-grid" id="symbol-grid"></div>
      </div>
      <div class="grid-footer">FLIGHT 4.0.4</div>
    </section>

  </div>

  <script>
    const tiles = [
      { symbol: "symbol0.png", numberImg: "number1.png" },
      { symbol: "symbol1.png", numberImg: "number2.png" },
      { symbol: "symbol2.png", numberImg: "number3.png" },
      { symbol: "symbol3.png", numberImg: "number4.png" },
      { symbol: "symbol4.png", numberImg: "number5.png" },
      { symbol: "symbol5.png", numberImg: "number6.png" },
      { symbol: "symbol6.png", numberImg: "number7.png" },
      { symbol: "symbol7.png", numberImg: "number8.png" },
      { symbol: "symbol8.png", numberImg: "number9.png" },
      { symbol: "symbol9.png", numberImg: "number0.png" }
    ];

    const screenReady = document.getElementById("screen-ready");
    const screenGrid  = document.getElementById("screen-grid");
    const gridEl      = document.getElementById("symbol-grid");
    const nextBtn     = document.getElementById("ready-next");
    const backBtn     = document.getElementById("back-to-ready");

    function showScreen(name) {
      screenReady.classList.remove("active");
      screenGrid.classList.remove("active");
      if (name === "ready") screenReady.classList.add("active");
      if (name === "grid")  screenGrid.classList.add("active");
    }

    nextBtn.addEventListener("click", () => showScreen("grid"));
    backBtn.addEventListener("click", () => showScreen("ready"));

    // Build symbol grid and attach state
    tiles.forEach((tile, index) => {
      const btn = document.createElement("button");
      btn.className = "symbol";
      btn.dataset.index = index;

      const img = document.createElement("img");
      img.src = tile.symbol;
      btn.appendChild(img);

      tile.imgEl = img;
      tile.timeoutId = null;

      gridEl.appendChild(btn);
    });

    gridEl.addEventListener("click", (event) => {
      const btn = event.target.closest(".symbol");
      if (!btn) return;

      const index = parseInt(btn.dataset.index, 10);
      const tile = tiles[index];
      if (!tile || !tile.imgEl) return;

      // Clear previous timer if still running
      if (tile.timeoutId) {
        clearTimeout(tile.timeoutId);
        tile.timeoutId = null;
      }

      // Swap to number
      tile.imgEl.src = tile.numberImg;

      // After 5 seconds, swap back to symbol
      tile.timeoutId = setTimeout(() => {
        tile.imgEl.src = tile.symbol;
        tile.timeoutId = null;
      }, 5000);
    });
  </script>
</body>
</html>
